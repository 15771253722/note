# 8/23：策略设计模式

## 1.实现方式：

Spring框架的资源访问Resource接口。该接口提供了更强的资源访问能力，Spring框架本身大量使用了Resource接口来访问底层资源。

## *Resource接口介绍：

source接口是具体资源访问策略的抽象，也是所有资源访问类所实现的接口。

Resource接口主要提供了如下几个方法：

- getInputSteam():定位并打开资源，返回资源对应的输入流。每次调用都返回新的输入流。调用者必须负责关闭输入流。

- exists（）：返回Resource所指向的资源是否存在。

- isOpen（）：返回资源文件是否打开，如果资源文件不能多次读取，每次读取结束应该显示关闭，以防资源泄漏。

- getDescription（）：返回资源的描述信息，通常用于资源处理出错时输出该信息，通常是全限定文件名或实际URL。

- getFile：返回资源对应的File对象。

- getURL：返回资源对应的URL对象。

  最后俩个方法通常无须使用，仅在通过简单方式访问无法实现时，Resource提供传统的资源访问的功能。

  Resource接口本身没有提供访问任何底层资源的实现逻辑，**针对不同的底层资源，Spring将会提供不同的Resource实现类，不同的实现类负责不同的资源访问逻辑。**

Spring 为 Resource接口提供了如下实现类：

- UrlResource:访问网络资源的实现类。

- ClassPathResource：访问类加载路径里资源的实现类。

- FileSystemResource：访问文件系统里资源的实现类。

- ServletContextResource:访问相对于ServletContext路径里的资源的实现类。

- InputStreamResource：访问输入流资源的实现类。

- ByteArrayResource：访问字节数组资源的实现类。

  这些Resource实现类，针对不同的底层资源，提供了相应的资源访问逻辑，并提供便捷的包装，以利于客户端程序的资源访问。


## 二、策略模式的应用

### 　　1. 何时使用

- 一个系统有许多类，而区分它们的只是他们直接的行为时

### 　　2. 方法

- 将这些算法封装成一个一个的类，任意的替换

### 　　3. 优点

- 算法可以自由切换
- 避免使用多重条件判断（如果不用策略模式我们可能会使用多重条件语句，不利于维护）
- 扩展性良好，增加一个策略只需实现接口即可

### 　　4. 缺点

- 策略类数量会增多，每个策略都是一个类，复用的可能性很小
- 所有的策略类都需要对外暴露

### 　　5. 使用场景

- 多个类只有算法或行为上稍有不同的场景
- 算法需要自由切换的场景
- 需要屏蔽算法规则的场景

### 　　6. 应用实例

- 出行方式，自行车、汽车等，每一种出行方式都是一个策略
- 商场促销方式，打折、满减等
- Java AWT中的LayoutManager，即布局管理器

### 　　7. 注意事项

- 如果一个系统的策略多于四个，就需要考虑使用混合模式来解决策略类膨胀的问题


